import{i as N,_ as S,r as a,o as _,e as p,c as U,w as n,h as V,a as t,b as d,t as i,g as o,F as A,f as B,p as j,j as w}from"./index-d0402e1b.js";const R={data(){return{status:!1,dialog:!1,chUser:N(),users:Array(),chName:"",cookieReset:!1}},mounted(){fetch("/status",{method:"GET"}).then(e=>e.json()).then(e=>{this.status=e.status}),fetch("/users",{method:"GET"}).then(e=>e.json()).then(e=>{this.users=e.users})},methods:{changeUser(e){this.chUser=this.users[e],this.dialog=!0},updateUser(e){fetch("/user/"+e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.chName,cookieReset:this.cookieReset})}).then(s=>s.json()).then(s=>{alert(s.message)})}}};const T=e=>(j("data-v-de5e032d"),e=e(),w(),e),I={class:"wrapper"},E=T(()=>o("thead",null,[o("tr",null,[o("th",{class:"text-left"},"Benutzername"),o("th",{class:"text-left"},"Abgestimmt"),o("th",{class:"text-left"},"Cookie"),o("th",{class:"text-left"},"Aktionen")])],-1));function F(e,s,z,G,l,h){const m=a("v-card-title"),k=a("v-text-field"),c=a("v-btn"),x=a("v-card-text"),f=a("v-card-actions"),v=a("v-card"),g=a("v-dialog"),b=a("v-card-subtitle"),y=a("v-divider"),C=a("v-table");return _(),p("div",I,[l.dialog?(_(),U(g,{key:0},{default:n(()=>[t(v,null,{default:n(()=>[t(m,null,{default:n(()=>[d(" Benutzer bearbeiten ")]),_:1}),t(x,null,{default:n(()=>[t(k,{label:"Name",modelValue:l.chName,"onUpdate:modelValue":s[0]||(s[0]=r=>l.chName=r)},null,8,["modelValue"]),t(c,{onClick:s[1]||(s[1]=r=>l.cookieReset=!0)},{default:n(()=>[d("Cookie Reset")]),_:1})]),_:1}),t(f,null,{default:n(()=>[t(c,{onClick:s[2]||(s[2]=r=>{var u;return h.updateUser((u=l.chUser)==null?void 0:u._id)})},{default:n(()=>[d("Speichern")]),_:1}),t(c,{onClick:s[3]||(s[3]=r=>l.dialog=!1)},{default:n(()=>[d("Abbrechen")]),_:1})]),_:1})]),_:1})]),_:1})):V("",!0),t(v,null,{default:n(()=>[t(m,null,{default:n(()=>[d(" Start/ Stopp ")]),_:1}),t(b,null,{default:n(()=>[d(" Hier kÃ¶nnen Sie die Wahl "+i(l.status?"stoppen":"starten"),1)]),_:1}),t(f,null,{default:n(()=>[t(c,{variant:"tonal",width:"100%",href:l.status?"/stop":"/start"},{default:n(()=>[d(i(l.status?"Stoppen":"Starten"),1)]),_:1},8,["href"])]),_:1})]),_:1}),t(y,{style:{"margin-top":"40px","margin-bottom":"40px"}}),t(C,{"fixed-header":""},{default:n(()=>[E,o("tbody",null,[(_(!0),p(A,null,B(l.users,(r,u)=>(_(),p("tr",{key:r._id},[o("td",null,i(r.name),1),o("td",null,i(r.voted?"Ja":"Nein"),1),o("td",null,i(r.cookie??"-"),1),o("td",null,[t(c,{onClick:J=>h.changeUser(u),elevation:"0",icon:"mdi-pencil"},null,8,["onClick"])])]))),128))])]),_:1})])}const H=S(R,[["render",F],["__scopeId","data-v-de5e032d"]]);export{H as default};
//# sourceMappingURL=Admin-cd7cf78f.js.map
