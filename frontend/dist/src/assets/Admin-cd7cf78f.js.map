{"version":3,"file":"Admin-cd7cf78f.js","sources":["../../../src/views/Admin.vue"],"sourcesContent":["<script lang=\"ts\">\nimport IUser from './types/user'\nimport { ref } from 'vue'\n\nexport default {\n    data() {\n        return {\n            status: false,\n            dialog: false,\n            chUser: ref<IUser>(),\n            users: Array<IUser>(),\n            chName: '',\n            cookieReset: false\n        }\n    },\n    mounted() {\n        // fetch /status and set status\n        fetch('/status', {\n            method: 'GET',\n        })\n            .then(response => response.json())\n            .then(data => {\n                this.status = data.status\n            })\n\n        fetch('/users', {\n            method: 'GET',\n        })\n            .then(response => response.json())\n            .then(data => {\n                this.users = data.users\n            });\n    },\n    methods: {\n        changeUser(id: number) {\n            this.chUser = this.users[id]\n            this.dialog = true\n        },\n        updateUser(id: string) {\n            fetch('/user/' + id, {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    name: this.chName,\n                    cookieReset: this.cookieReset\n                })\n            })\n                .then(response => response.json())\n                .then(data => {\n                    alert(data.message)\n                });\n        }\n    }\n}\n</script>\n\n<template>\n    <div class=\"wrapper\">\n        <v-dialog v-if=\"dialog\">\n            <v-card>\n                <v-card-title>\n                    Benutzer bearbeiten\n                </v-card-title>\n                <v-card-text>\n                    <v-text-field label=\"Name\" v-model=\"chName\"></v-text-field>\n                    <v-btn @click=\"cookieReset = true\">Cookie Reset</v-btn>\n                </v-card-text>\n                <v-card-actions>\n                    <v-btn @click=updateUser(chUser?._id!)>Speichern</v-btn>\n                    <v-btn @click=\"dialog = false\">Abbrechen</v-btn>\n                </v-card-actions>\n            </v-card>\n        </v-dialog>\n\n        <v-card>\n            <v-card-title>\n                Start/ Stopp\n            </v-card-title>\n            <v-card-subtitle>\n                Hier k√∂nnen Sie die Wahl {{ status ? 'stoppen' : 'starten' }}\n            </v-card-subtitle>\n            <v-card-actions>\n                <v-btn variant=\"tonal\" width=\"100%\" :href=\"status ? '/stop' : '/start'\">{{ status ? 'Stoppen' :\n                    'Starten' }}</v-btn>\n            </v-card-actions>\n        </v-card>\n        <v-divider style=\"margin-top: 40px; margin-bottom: 40px;\"></v-divider>\n        <v-table fixed-header>\n            <thead>\n                <tr>\n                    <th class=\"text-left\">Benutzername</th>\n                    <th class=\"text-left\">Abgestimmt</th>\n                    <th class=\"text-left\">Cookie</th>\n                    <th class=\"text-left\">Aktionen</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"item, index in users\" :key=\"item._id\">\n                    <td>{{ item.name }}</td>\n                    <td>{{ item.voted ? 'Ja' : 'Nein' }}</td>\n                    <td>{{ item.cookie ?? '-' }}</td>\n                    <td>\n                        <v-btn @click=\"changeUser(index)\" elevation=\"0\" icon=\"mdi-pencil\"></v-btn>\n                    </td>\n                </tr>\n            </tbody>\n        </v-table>\n    </div>\n</template>\n\n<style scoped>\n@media screen and (min-width: 700px) {\n    .v-card {\n        padding: 20px;\n    }\n\n    .v-card-title {\n        padding: 6px;\n        align-items: center;\n        justify-content: center;\n        display: flex;\n        width: 100%;\n        font-size: 24px;\n        height: 40px;\n    }\n\n    .v-card-subtitle {\n        padding: 4px;\n        align-items: center;\n        justify-content: center;\n        display: flex;\n        width: 100%;\n        font-size: 18px;\n        height: 24px\n    }\n\n    .wrapper {\n        display: flex;\n        padding-top: 40px;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        width: 100%;\n        height: 100%;\n        gap: 60px;\n    }\n\n    .v-card-text {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        grid-template-rows: 1fr 1fr;\n        gap: 10px;\n    }\n}\n\n@media screen and (max-width: 699.999px) {\n\n    .v-card {\n        width: 100%;\n    }\n\n    .v-card-title {\n        padding: 6px;\n        align-items: center;\n        justify-content: center;\n        display: flex;\n        width: 100%;\n        font-size: 24px;\n        height: 40px;\n    }\n\n    .v-card-subtitle {\n        padding: 4px;\n        align-items: center;\n        justify-content: center;\n        display: flex;\n        width: 100%;\n        font-size: 18px;\n        height: 24px\n    }\n\n    .wrapper {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        width: 100%;\n        height: 100%;\n        gap: 20px;\n    }\n\n    .v-card-text {\n        display: grid;\n        grid-template-columns: 1fr;\n        grid-template-rows: repeat(4, 1fr);\n        gap: 10px;\n    }\n\n}\n</style>"],"names":["_sfc_main","ref","response","data","id","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_2","_createElementVNode","_component_v_table","_resolveComponent","_createElementBlock","_hoisted_1","$data","_openBlock","_createBlock","_component_v_dialog","_withCtx","_createVNode","_component_v_card","_component_v_card_title","_component_v_card_text","_component_v_text_field","_cache","$event","_component_v_btn","_component_v_card_actions","$options","_a","_createCommentVNode","_component_v_card_subtitle","_component_v_divider","_Fragment","_renderList","item","index","_toDisplayString"],"mappings":"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"}